_comment:
- Running behind a reverse proxy (nginx, HAProxy, Traefik, etc.).
- ''
- The proxy terminates TLS and forwards to ACMEEH over plain HTTP.
- 'Key configuration points:'
- '  - external_url: the public URL clients use (through the proxy)'
- '  - bind: 127.0.0.1 since only the proxy should reach this port'
- '  - proxy.enabled: trust X-Forwarded-* headers from listed CIDRs'
- '  - api.base_path: if the proxy routes /acme/* to ACMEEH'
- ''
- 'Example nginx config:'
- '  location /acme/ {'
- '    proxy_pass http://127.0.0.1:8080/;'
- '    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;'
- '    proxy_set_header X-Forwarded-Proto $scheme;'
- '  }'
server:
  external_url: https://acme.corp.internal
  bind: 127.0.0.1
  port: 8080
  workers: 4
  keepalive: 5
proxy:
  enabled: true
  trusted_proxies:
  - 127.0.0.1
  - 10.0.0.0/8
  forwarded_for_header: X-Forwarded-For
  forwarded_proto_header: X-Forwarded-Proto
api:
  base_path: /acme
database:
  database: acmeeh
  user: acmeeh
  password: ${DB_PASSWORD}
ca:
  backend: internal
  internal:
    root_cert_path: /etc/acmeeh/ca/root.pem
    root_key_path: /etc/acmeeh/ca/root-key.pem
logging:
  level: INFO
  format: json
