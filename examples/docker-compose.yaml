_comment:
- Configuration suited for Docker Compose deployments.
- ''
- Uses container hostnames for database, relies heavily on
- environment variables for secrets, auto-setup enabled since
- containers start fresh, and human-readable logs for 'docker logs'.
server:
  external_url: ${ACMEEH_EXTERNAL_URL:-https://localhost:8443}
  bind: 0.0.0.0
  port: 8443
  workers: 2
  worker_class: gthread
database:
  host: postgres
  port: 5432
  database: ${POSTGRES_DB:-acmeeh}
  user: ${POSTGRES_USER:-acmeeh}
  password: ${POSTGRES_PASSWORD}
  sslmode: disable
  min_connections: 2
  max_connections: 10
  connection_timeout: 30.0
  auto_setup: true
ca:
  backend: internal
  default_validity_days: 90
  max_validity_days: 397
  internal:
    root_cert_path: /app/certs/root.pem
    root_key_path: /app/certs/root-key.pem
    key_provider: file
    serial_source: database
challenges:
  enabled:
  - http-01
  http01:
    port: 80
    timeout_seconds: 15
    max_retries: 3
logging:
  level: ${LOG_LEVEL:-INFO}
  format: human
  audit:
    enabled: true
    file: /var/log/acmeeh/audit.log
nonce:
  expiry_seconds: 3600
  gc_interval_seconds: 300
