_comment:
- Internal CA with PKCS#11 HSM key storage.
- ''
- 'key_provider options:'
- '  - ''file''           — plain PEM files on disk (default)'
- '  - ''encrypted_file'' — password-encrypted PEM key files'
- '  - ''pkcs11''         — hardware security module via PKCS#11'
- ''
- With PKCS#11, the root_key_path typically points to a PKCS#11
- URI or the key label, depending on your HSM driver configuration.
server:
  external_url: https://acme.corp.internal
  port: 8443
  workers: 4
database:
  host: db.corp.internal
  database: acmeeh
  user: acmeeh
  password: ${DB_PASSWORD}
  sslmode: verify-full
ca:
  backend: internal
  default_validity_days: 90
  max_validity_days: 397
  internal:
    root_cert_path: /etc/acmeeh/ca/root.pem
    root_key_path: pkcs11:token=ACMEEH;object=ca-signing-key
    key_provider: pkcs11
    chain_path: /etc/acmeeh/ca/chain.pem
    serial_source: database
logging:
  level: INFO
  format: json
  audit:
    enabled: true
    file: /var/log/acmeeh/audit.log
    syslog: true
